<h1><%= @flower_type.name %> の詳細</h1>

<% if @flower_type.image.attached? %>
  <%= image_tag @flower_type.image.variant(resize_to_limit: [300, 300]) %>
<% else %>
  <p>花の画像なし</p>
<% end %>

<hr>

<h2>登録されている参考画像と価格</h2>

<% if @flower_type.sizes.any? %>
  <% @flower_type.sizes.order(price: :asc).each do |size| %>
    <div style="margin-bottom: 20px;">
      <p><strong>価格：</strong>¥<%= number_with_delimiter(size.price) %></p>

      <% if size.image.attached? %>
        <%= image_tag size.image.variant(resize_to_limit: [200, 200]) %>
      <% else %>
        <p>参考画像なし</p>
      <% end %>

      <div style="margin-top: 5px;">
        <%= link_to '編集', edit_admin_flower_type_size_path(@flower_type, size), class: "button" %>
      </div>
    </div>
    <hr>
  <% end %>
<% else %>
  <p>参考画像と価格はまだ登録されていません。</p>
<% end %>

<div style="margin: 20px 0;">
  <%= link_to '参考画像と価格を追加する', new_admin_flower_type_size_path(@flower_type), class: "button" %>
</div>

<div style="margin-top: 20px;">
  <%= link_to 'この花の種類を削除する', admin_flower_type_path(@flower_type), data: { turbo_method: :delete, confirm: "本当に削除しますか？" }, class: "button is-danger" %>
</div>

<%= link_to 'メニュー一覧に戻る', admin_flower_types_path, class: "button is-light" %>